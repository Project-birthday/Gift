<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Love </title>
      <style>
            .center-me{
            width: 80%;
            height: 75%;
            padding: 20px;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            flex-direction: column;
            background-color: pink;
            }
            .center{
            
            background-color: #fefffe;
            border-radius: 4px;
            width: 68%;
            height: 75%;
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            display: flex;
            flex-direction: column;
            box-shadow: 0 0px 15px 3px rgba(0, 0, 0, 0.4);
            }
            .button{
                  margin-top: auto;
                  padding: 20px;
                  background-color: #DB7093;
                  border: none;
                  color: white;
                  font-family: Verdana, sans-serif
            }
            .promo
            {
                  height: 50px;
                  margin-top: -10px;
                  transition: 2s font-size;
                  font-size: 0px;
                  text-align: center;
                  color: white;
            }
            .promo:hover{
                  height: 50px;
                  font-size: 20px;
            }
      </style>
</head>
<body style="background-color: #212f3d">
      <div class="promo">Happy birthday my Sweet heart</div>
      <div class="center-me" id="demo" style="background-image: url('./balloon-heart.svg')">
            <div class="center" id="demo1" style="background-image: url('./activity.svg');">
                  <div id="logo" style="text-align: center; opacity: 30%;"><img src="./hearts.svg" alt="hearts" style="height: 50px;margin-top: 10px;"></div>
                  <div id="quote" style="padding:  10px 20px;font-family: Comic Sans MS ;font-size: 20px; text-align: center;">Loading...</div>
                  <strong><code><div id="author" style="padding: 20px;margin-top: auto;font-size: 20px;text-align: center;"></div></code></strong>
                  <div class="button" style="text-align: center;padding: 20px;"><button style="padding:5px 0px;" id="prev" onclick="getPrevious()"><- Previous </button><button id="reset" onclick="reset()"><img src="./kh.svg" alt="reset" style="height: 20px;width: 30px;"></button><button id="newQ" style="padding: 5px 0px;">More love -></button></div>
            </div>
      </div>
      
      <script>
            if(window.outerWidth<=700)
            {
                  document.getElementById('demo').style.width = "85%";
                  document.getElementById('demo').style.height = "80%";
                  document.getElementById('demo1').style.width = "85%";
                  document.getElementById('demo1').style.height = '85%';
            }
            const logo = document.getElementById('logo');
            const quotes = document.getElementById('quote');
            const author = document.getElementById('author');
            const newQ = document.getElementById('newQ');
            let realData = "";
            let rnum = 0;
            if(localStorage.getItem('rnum') == null)
            {
                  localStorage.setItem('rnum',0);
                  rnum = 0;
            }
            else{
                  rnum = localStorage.getItem('rnum')
            }
            const getPrevious = () =>{
                  if(rnum <= 1)
                  {
                        
                  }
                  else
                  {
                  rnum-=2;
                  getNewQuotes();
                  }
            }
            const reset = () =>{
                  rnum = 0;
                  getNewQuotes();
            }
            const getNewQuotes = () =>{

                  if(rnum >= 78)
                  {
                        logo.style.opacity = "90%"
                        logo.innerHTML = "Happy birthday miru..ðŸ¥³"
                        author.innerHTML = "";
                        quotes.innerHTML = "";
                        quotes.innerHTML = `<iframe width="200" height="300" src="./Surprise.mp4" frameborder="0" allowfullscreen></iframe>
      </iframe>`
                  }
                  else
                  {
                        if(logo.innerHTML == "Happy birthday miru..ðŸ¥³")
                        {
                              logo.style.opacity = "30%"
                              logo.innerHTML = `<img src="./hearts.svg" alt="hearts" style="height: 50px;margin-top:10px;">`
                        }
                        quotesData = realData[rnum]
                        quote.innerHTML = `${realData[rnum].text}`;
                        if(realData[rnum].author == null)
                        {
                              author.innerHTML = "";
                        }
                        else{
                              author.innerHTML = `${realData[rnum].author}`;
                        }
                        localStorage.setItem('rnum',rnum)
                  rnum++;
                  }
                  
                  
            };
            const getQuotes = async () =>{
                  const api = "https://project-birthday.github.io/Gift/api.json";
                  try{
                        let data = await fetch(api);
                        realData = await data.json();
                        getNewQuotes();
                  } catch(error){}
            };
            newQ.addEventListener('click',getNewQuotes);
            getQuotes();
      </script>
</body>
</html>
